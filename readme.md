# PoiskEngine Search Bot

## Что это?
Это локальный поисковый движок. Можно поставить себе на компьютер или на сервер. Главное, чтобы была  Java, и он сможет индексировать сайты для поиска. 
А ещё это учебный проект. Делать его было интересно и познавательно.

## Зависимости
- [russianmorphology](https://github.com/AKuznetsov/russianmorphology) для морфологического анализа страниц сайтов
- [spring boot](https://spring.io/projects/spring-boot) (web, jpa, security) как основной фреймворк проекта, отвечающий за управление контекстом приложения, развёртывание и обработку запросов
- [Lombok](https://projectlombok.org) чтобы меньше писать

## Как его запустить?
Для сборки понадобятся:
- **JDK 17**
- **Maven 3**

Для работы:
- **JRE 17**
- **MySQQL 8**

При сборке необходимо использовать прилагающийся файл `settings.xml`. Это необходимо для скачивания и подключения библиотеки `russianmorphology` к проекту. Можно скопировать содержимое в основной файл настроек Maven, или использовать команду для сборки:
```bash
mvn -s settings.xml clean install
```

Перед сборкой следует отредактировать файл настроек `application.yaml` или скопировать его и положить рядом с исполняемым .jar файлом, что позволит менять настройки динамически, без пересборки приложения.

### Настройка приложения

#### Настройка подключения к БД
Настройки подключения к базе данных задаются следующим образом:
```yaml
  datasource:
    username: root
    password: pass4MySQL
    url: jdbc:mysql://localhost:3306/search_engine?useSSL=false&requireSSL=false&allowPublicKeyRetrieval=true
```

В настройках Hibernate отдельного внимания заслуживает настройка `ddl-auto`, которая отвечает за пересоздание таблиц при перезапуске программы.
Возможные варианты:
- `none` не предпринимать никаких действий
- `create` создать новые таблицы при запуске, старые данные удаляются
- `create-drop` создать новые таблицы при запуске, при завершении приложения удалить их
- `validate` проверить соответствие таблиц описанным в программе сущностям
- `update` при наличии расхождений в состоянии БД и в описании сущностей в программе, обновить таблицы в БД

Для обычной работы рекомендуется использовать флаги `none` или `update`, как альтернативный вариант, можно вообще не использовать этот тег.

#### Настройка поискового движка

Для настройки самого поискового движка используется группа параметров `indexing-settings:`.

Здесь же задаётся перечень сайтов, которые будут доступны для обработки :

indexing-settings:
    sites:
      - url: https://dombulgakova.ru/
        name: Булгаковский Дом - Новости

### Описание интерфейса

Начальная страница показывает объем обработанны данных:
* Количество сайтов;
* Количество обработанных станиц;
* Количествл найденных лемм.
![](D:\java\Diplom\searchengine\img\Page1.JPG "Стартовая страница")


Вкладка **"MANAGEMENT"** управляет индексацией.

![](D:\java\Diplom\searchengine\img\Page2.JPG "Управление индексацией")



Кнопка `START INDEXING`. запускает индексацию/переиндексацию всех страниц для всех сайтов.

Ниже находится поле`ADD/UPDATE`, в которое можно ввести адрес сайта для индексации/переиндексации.
Если он находится в перечне сайтов стартового файла.

#### Вкладка  Search


![](D:\java\Diplom\searchengine\img\Page3.JPG "Вкладка поиска")

Поиск возможен как по всем сайтам, так и по какому-то одному. 

Результат поиска представлен на картинке выше.

**Особенности реализации программы**

1. Поиск страниц на сайте и поиск лемм на странице осуществляется многопоточным методом (fork-join),
что существенно ускоряет выполнение программы.
2. Поиск страниц, содержащих леммы осуществляется с использованием формируемого программного запроса,
что упрощает программный код и ускоряет выполнение.



